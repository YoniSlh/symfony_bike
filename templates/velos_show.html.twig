{% extends 'base.html.twig' %}

{% block title %}
	{{ velo.name }}
{% endblock %}

{% block content %}
	{% include '_header.html.twig' %}
	<a href="{{ path('velos') }}" class="btnRetour" title="Retour"></a>
	<div class="veloDetailsContainer">
		<div class="imageDescriptionContainer">
			<div class="mainImageContainer">
				<img src="{{ velo.image }}" class="principalImage" alt="Image principale du vélo">
			</div>
			<div class="detailsContainer">
				<h2>Caractéristiques</h2>
				<ul>
					<li>
						<strong>Type :</strong>
						{{ velo.type }}</li>
					<li>
						<strong>Marque :</strong>
						{{ velo.marque }}</li>
					<li>
						<strong>Couleur :</strong>
						{{ velo.couleur }}</li>
					<li>
						<strong>Poids :</strong>
						{{ velo.poids }}
						kg</li>
					<li>
						<strong>Description :</strong>
						{{ velo.description }}</li>
				</ul>
			</div>
		</div>

		<div class="veloInfosContainer">
			<div class="veloAchatContainer">
				<h2 style="margin: 0 0;">{{ velo.name }}</h2>
				<p style="margin-top: 0;">
					<i class="refVelo">Référence :
						{{ velo.id }}
					</i>
				</p>
				<div class="prixContainer">
					<strong class="prixVeloItem" style="color: white;">{{ velo.price }} €</strong>
				</div>
				<div class="stockContainer">
					{% if velo.stock == 0 %}
						<span class="stockInfo">En rupture de stock</span>
						<style>
							.stockInfo {
								color: red;
							}
							.btnAjoutPanier {
								pointer-events: none;
								opacity: 0.5;
							}
						</style>
					{% else %}
						<span class="stockInfo">{{ velo.stock }}
							en stock</span>
					{% endif %}
				</div>
				<div class="btn-container">
					<a href="{{ path('velos') }}" class="btnAjoutPanier">Ajouter au panier</a>
				</div>
			</div>
			{# conteneur avis clients #}
			<div class="veloAchatContainer">
				<h3>Avis des clients
					<span class="nbAvis">3</span>
				</h3>
				<div class="avisContainer">
					<div class="avisItem">
						<div class="avisHeader">
							<span class="avisNom">Jean Dupont</span>
							<div class="etoiles">⭐⭐⭐⭐⭐</div>
						</div>
						<p class="avisTexte">Un vélo exceptionnel ! Très confortable et rapide. Je le recommande vivement.</p>
						<p class="dateAvis">Publié le 12 mars 2024</p>
					</div>
					<div class="avisItem">
						<div class="avisHeader">
							<span class="avisNom">Marie Curie</span>
							<div class="etoiles">⭐⭐⭐⭐</div>
						</div>
						<p class="avisTexte">Un excellent rapport qualité-prix. Idéal pour les balades en ville.</p>
						<p class="dateAvis">Publié le 10 mars 2024</p>
					</div>
					<div class="avisItem">
						<div class="avisHeader">
							<span class="avisNom">Pierre Martin</span>
							<div class="etoiles">⭐⭐⭐⭐⭐</div>
						</div>
						<p class="avisTexte">J'adore ce vélo ! Sa maniabilité est incroyable. Parfait pour les sorties le week-end.</p>
						<p class="dateAvis">Publié le 8 mars 2024</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	{# autres vélos #}
	<div class="veloListContainer">
		<div class="container">
			<h2>Nos autres vélos</h2>
			<ul class="listeVelos">
				{% for velo in velos|slice(0,3) %}
					<li class="veloItem">
						<div class="veloDetails">
							<a href="{{ path('velos_show', {'id': velo.id}) }}">
								<img src="{{ velo.image }}" class="veloImage">
							</a>
							<h3>
								<a href="{{ path('velos_show', {'id': velo.id}) }}" class="titreDetails">{{ velo.name }}</a>
							</h3>
							<p>{{ velo.description }}</p>
							<p>
								<strong class="prixVeloItem">{{ velo.price }} €</strong>
							</p>	
							<a href="{{ path('velos') }}" class="btnAjoutPanier" style="pointer-events: auto; opacity: 1;">Ajouter au panier</a>
						</div>
					</li>
				{% endfor %}
			</ul>
		</div>
	</div>
	{% include '_footer.html.twig' %}
{% endblock %}
